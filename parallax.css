/* =========================================
   Parallax sections — base styles
   ========================================= */

.section-with-parallax {
  position: relative;
  overflow: hidden;
  padding-block: var(--section-padding-block);
  padding-inline: var(--section-padding-inline);
}

.section-with-parallax .content { position: relative; z-index: 1; }

/* Prevent self-anchors inside sections from being clickable (no jump) */
.section-with-parallax a[href^="#"] { pointer-events: none; }

/* Headings look non-interactive */
.section-with-parallax .section-title { cursor: default; }

/* =========================================
   Desktop parallax layers
   ========================================= */

/* APARTMENT: star background */
#apartment-section .bg-layer {
  position: absolute;
  top: 10%; left: 60%;
  width: 60%; height: 90%;
  background-image: url('images/general/backgrounds/star.webp');
  background-size: contain; background-repeat: no-repeat; background-position: center;
  opacity: 0.03; z-index: 0; pointer-events: none;
  transition: transform 0.05s ease-out;
}

/* LOCATION: big shell background */
#location-section .bg-layer {
  position: absolute;
  top: 0; left: 88%;
  width: 100%; height: 90%;
  background-image: url('images/general/backgrounds/shell.webp');
  background-size: contain; background-repeat: no-repeat; background-position: center;
  opacity: 0.03; z-index: 0; pointer-events: none;
  transition: transform 0.1s ease-out;
}

/* LOCATION: small shell background */
#location-section .bg-layer.small-shell {
  position: absolute;
  top: 8%; left: 3%;
  width: 40%; height: 30%;
  background-image: url('images/general/backgrounds/shell_1.webp');
  background-size: contain; background-repeat: no-repeat; background-position: center;
  opacity: 0.04; z-index: 0; pointer-events: none;
  transition: transform 0.1s ease-out;
}

/* =========================================
   Mobile (≤ 768px) — disable parallax & place static art
   ========================================= */
@media (max-width: 768px), (max-height: 500px) {
  :root {
    --star-size: clamp(280px, 70vw, 560px);
    --loc-shell-gap: 12px;
  }

  #apartment-section .bg-layer,
  #location-section  .bg-layer {
    transition: none !important;
    transform: none !important;
    will-change: auto !important;
  }

  #apartment-section .bg-layer {
    position: absolute;
    width:  var(--star-size);
    height: var(--star-size);

    left: auto !important;
    top:  auto !important;

    right:  calc(-0.35 * var(--star-size));
    bottom: calc(-0.35 * var(--star-size));

    background-image: url('images/general/backgrounds/star.webp');
    background-repeat: no-repeat !important;
    background-position: center center !important;
    background-size: contain !important;

    transform: rotate(45deg) !important;
    transform-origin: center center !important;

    opacity: 0.07;
    pointer-events: none;
    z-index: 0;
  }

  #location-section .bg-layer:not(.small-shell) { display: none !important; }

  :root {
    --shell-size: clamp(240px, 50vw, 520px);
    --shell-gap: 12px;
  }

  #location-section .bg-layer.small-shell {
    position: absolute;
    width:  var(--shell-size);
    height: var(--shell-size);

    left: 50% !important; right: auto !important;
    margin-left: calc(-0.5 * var(--shell-size));

    bottom: var(--shell-gap); top: auto !important;

    background-image: url('images/general/backgrounds/shell_1.webp');
    background-repeat: no-repeat !important;
    background-position: center center !important;
    background-size: contain !important;

    transition: none !important;
    transform: none !important;

    opacity: 0.07;
    pointer-events: none;
    z-index: 0;
  }
}
